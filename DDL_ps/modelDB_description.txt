     
                                Назначение и модель БД 
     Модель описывает сущности и их связи между собой в БД ,которая нужна для поддержки продаж торговой сети, а также различных маркентинговых мероприятий и различных аналитических исследований.
     Для этого созданы следующие сущности.
   Из общей денормализованной таблицы выделена сущность содержащая поля характерезирующие клиента, такие как имя,фамилия,пол,день рождения,обращение к персоне,семейное положение и язык общения.Эта мнимая таблица разбита на основную Customs и три дополнительных.Это genders, languages,titles. 
   Другая сущность Addresses - адреса, где зарегистрированы или проживают клиенты,причем у одного клиента может быть несколько таких адресов,что выражается через таблицу customs_addresses.Общая таблица адрес содержит следующие поля - номер дома,название улицы,почтовый индекс,название города,название региона,название страны.Для нормализации эта мнимая таблица разбита на следующие сущности.Countrys - содержит названия стран.Страна поделена на различные регионы.Для этого введена сущность Regions.К регионам привязаны почтовые индексы - таблица Postalcodes.В городах могут быть несколько почтовых индексов,а несколько небольших поселений могут иметь один индекс.Это выражаем через создание  сущностей towns и subtowns.Также модель учитывает,что различные дома на одной и той же улице могут прикреплены    к разным почтовым индексам.Соответственно вводим сущности Substreets и Streets.
   Таким образом мы можем сделать запрос для определения адресов(а) любого клиента по его 
CustomId.Эта информация может понадобится для рассылки например каталогов,рекламных брошюр,а также различных маргентинговых исследований в которых учитывается местоположение клиентов.Мы также можем сделать запрос к таблице Customs, чтобы получить нужные данные по клиенту,например день рождения и предложить ему в этот день скидку.
  Следующие сущности относятся к хранению  информации о покупках совершаемых клиентами. 
  Сущность Products это каталог продуктов. Реализует вместе с сущностями  Products_attributes и Attributes паттерн EAV(сущность-аттрибуты-значения). Сущность Shippers каталог поставщиков, а сущность Manufacturer - соответственно производителей продктов.У продукта может быть один производитель,но несколько поставщиков.  Это выражаем кросс-таблицей Shippers_products.В сущности  Prices храним истории цен для каждого товара в базовой валюте.При необходимости изменить цену на какой-либо товар добавляем нову запись с новой ценой и датой с которой цена действует.Кросс-таблица Buys содержит покупки клиентов и товары, которе они приобретали,а также даты приобретения,валюту за которую покупали, цена покупки в валюте пересчитанной по отношению к базовой.За хранение курса валют отвечает сущность changes. 
  Теперь мы можем создавать запросы для определения педпочтений клиентов  при покупках (категория,ценовой диапазон,время суток покупок и т.д). 
  Можно также по конкретному товару получить его характеристики,которые необходимы для каталогов,  интернет сайта т.д.
